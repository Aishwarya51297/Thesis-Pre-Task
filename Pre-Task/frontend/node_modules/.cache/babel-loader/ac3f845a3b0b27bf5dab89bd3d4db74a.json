{"ast":null,"code":"var _jsxFileName = \"F:\\\\Germany\\\\Thesis\\\\Pre-Task\\\\frontend\\\\src\\\\Statistics.js\";\nimport React, { useState, useEffect } from 'react';\nimport BarChart from 'BarChart';\nimport './index.css';\nfunction Statistics({\n  stats,\n  filter,\n  onBarClick\n}) {\n  const [images, setImages] = useState([]);\n  const [filteredImages, setFilteredImages] = useState([]);\n\n  // Fetch all images from the backend\n  useEffect(() => {\n    fetch('http://127.0.0.1:5000/images').then(response => response.json()).then(data => {\n      setImages(data); // Store all images\n      setFilteredImages(data); // Initially show all images\n    });\n  }, []);\n\n  // Apply the filter whenever it changes\n  useEffect(() => {\n    if (!filter || !stats || !images.length) {\n      setFilteredImages(images); // No filter applied, show all images\n      return;\n    }\n    let filtered = [];\n\n    // Gender filter logic\n    if (filter.category === 'gender') {\n      if (filter.value === 'male') {\n        filtered = images.filter(img => stats.gender.male_ids.includes(parseInt(img.split('.')[0])));\n      } else if (filter.value === 'female') {\n        filtered = images.filter(img => stats.gender.female_ids.includes(parseInt(img.split('.')[0])));\n      }\n    }\n\n    // Age filter logic\n    if (filter.category === 'age') {\n      if (filter.value === 'young') {\n        filtered = images.filter(img => stats.age.young_ids.includes(parseInt(img.split('.')[0])));\n      } else if (filter.value === 'middle age') {\n        filtered = images.filter(img => stats.age.middle_ids.includes(parseInt(img.split('.')[0])));\n      } else if (filter.value === 'old') {\n        filtered = images.filter(img => stats.age.old_ids.includes(parseInt(img.split('.')[0])));\n      }\n    }\n\n    // Orientation filter logic\n    if (filter.category === 'orientation') {\n      if (filter.value === 'camera_facing') {\n        filtered = images.filter(img => stats.orientation.facing_ids.includes(parseInt(img.split('.')[0])));\n      } else if (filter.value === 'away_facing') {\n        filtered = images.filter(img => stats.orientation.away_ids.includes(parseInt(img.split('.')[0])));\n      }\n    }\n    setFilteredImages(filtered);\n  }, [filter, images, stats]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, \"Statistics - Bar Charts\"), stats && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chart-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(BarChart, {\n    data: Object.entries(stats.gender).filter(([key]) => !key.endsWith('_ids')),\n    title: \"Gender Distribution\",\n    onBarClick: onBarClick,\n    filter: filter,\n    category: \"gender\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(BarChart, {\n    data: Object.entries(stats.age).filter(([key]) => !key.endsWith('_ids')),\n    title: \"Age Distribution\",\n    onBarClick: onBarClick,\n    filter: filter,\n    category: \"age\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(BarChart, {\n    data: Object.entries(stats.orientation).filter(([key]) => !key.endsWith('_ids')),\n    title: \"Orientation Distribution\",\n    onBarClick: onBarClick,\n    filter: filter,\n    category: \"orientation\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"grid-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, filteredImages.length > 0 ? filteredImages.map((image, index) => /*#__PURE__*/React.createElement(\"img\", {\n    key: index,\n    src: `http://127.0.0.1:5000/images/${image}`,\n    alt: image,\n    className: \"grid-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  })) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }, \"No images found for this filter.\")));\n}\nexport default Statistics;","map":{"version":3,"names":["React","useState","useEffect","BarChart","Statistics","stats","filter","onBarClick","images","setImages","filteredImages","setFilteredImages","fetch","then","response","json","data","length","filtered","category","value","img","gender","male_ids","includes","parseInt","split","female_ids","age","young_ids","middle_ids","old_ids","orientation","facing_ids","away_ids","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","Object","entries","key","endsWith","title","map","image","index","src","alt"],"sources":["F:/Germany/Thesis/Pre-Task/frontend/src/Statistics.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport BarChart from 'BarChart';\r\nimport './index.css';\r\n\r\nfunction Statistics({ stats, filter, onBarClick }) {\r\n  const [images, setImages] = useState([]);\r\n  const [filteredImages, setFilteredImages] = useState([]);\r\n\r\n  // Fetch all images from the backend\r\n  useEffect(() => {\r\n    fetch('http://127.0.0.1:5000/images')\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        setImages(data); // Store all images\r\n        setFilteredImages(data); // Initially show all images\r\n      });\r\n  }, []);\r\n\r\n  // Apply the filter whenever it changes\r\n  useEffect(() => {\r\n    if (!filter || !stats || !images.length) {\r\n      setFilteredImages(images); // No filter applied, show all images\r\n      return;\r\n    }\r\n\r\n    let filtered = [];\r\n\r\n    // Gender filter logic\r\n    if (filter.category === 'gender') {\r\n      if (filter.value === 'male') {\r\n        filtered = images.filter((img) => stats.gender.male_ids.includes(parseInt(img.split('.')[0])));\r\n      } else if (filter.value === 'female') {\r\n        filtered = images.filter((img) => stats.gender.female_ids.includes(parseInt(img.split('.')[0])));\r\n      }\r\n    }\r\n\r\n    // Age filter logic\r\n    if (filter.category === 'age') {\r\n      if (filter.value === 'young') {\r\n        filtered = images.filter((img) => stats.age.young_ids.includes(parseInt(img.split('.')[0])));\r\n      } else if (filter.value === 'middle age') {\r\n        filtered = images.filter((img) => stats.age.middle_ids.includes(parseInt(img.split('.')[0])));\r\n      } else if (filter.value === 'old') {\r\n        filtered = images.filter((img) => stats.age.old_ids.includes(parseInt(img.split('.')[0])));\r\n      }\r\n    }\r\n\r\n    // Orientation filter logic\r\n    if (filter.category === 'orientation') {\r\n      if (filter.value === 'camera_facing') {\r\n        filtered = images.filter((img) => stats.orientation.facing_ids.includes(parseInt(img.split('.')[0])));\r\n      } else if (filter.value === 'away_facing') {\r\n        filtered = images.filter((img) => stats.orientation.away_ids.includes(parseInt(img.split('.')[0])));\r\n      }\r\n    }\r\n\r\n    setFilteredImages(filtered);\r\n  }, [filter, images, stats]);\r\n\r\n  return (\r\n    <div>\r\n      <h2>Statistics - Bar Charts</h2>\r\n\r\n      {/* Render the Bar Charts */}\r\n      {stats && (\r\n        <div className=\"chart-container\">\r\n          <BarChart\r\n            data={Object.entries(stats.gender).filter(([key]) => !key.endsWith('_ids'))}\r\n            title=\"Gender Distribution\"\r\n            onBarClick={onBarClick}\r\n            filter={filter}\r\n            category=\"gender\"\r\n          />\r\n          <BarChart\r\n            data={Object.entries(stats.age).filter(([key]) => !key.endsWith('_ids'))}\r\n            title=\"Age Distribution\"\r\n            onBarClick={onBarClick}\r\n            filter={filter}\r\n            category=\"age\"\r\n          />\r\n          <BarChart\r\n            data={Object.entries(stats.orientation).filter(([key]) => !key.endsWith('_ids'))}\r\n            title=\"Orientation Distribution\"\r\n            onBarClick={onBarClick}\r\n            filter={filter}\r\n            category=\"orientation\"\r\n          />\r\n        </div>\r\n      )}\r\n\r\n      {/* Display the Filtered Images */}\r\n      <div className=\"grid-container\">\r\n        {filteredImages.length > 0 ? (\r\n          filteredImages.map((image, index) => (\r\n            <img\r\n              key={index}\r\n              src={`http://127.0.0.1:5000/images/${image}`}\r\n              alt={image}\r\n              className=\"grid-item\"\r\n            />\r\n          ))\r\n        ) : (\r\n          <p>No images found for this filter.</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Statistics;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}